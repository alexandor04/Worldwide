<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bibliothèque de citations</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- PAGE PRINCIPALE -->
<div id="main-page">
    <h1>Ma bibliothèque</h1>
    <div id="books-container">
        <div id="canguilhem" class="book">📖 La connaissance de la vie</div>
        <div id="verne" class="book">🌊 Vingt mille lieues sous les mers</div>
        <div id="haushofer" class="book">🏔️ Le mur invisible</div>
    </div>
</div>

<!-- PAGE CITATIONS + PERSONNAGES -->
<div id="quote-page" class="hidden" style="display: grid; grid-template-columns: 1fr 2fr; gap: 2rem;">

    <!-- Colonne gauche : Personnages -->
    <div>
        <h2 style="text-align:center; font-family: var(--title-font);">Personnages</h2>

        <!-- Bouton flottant pour formulaire personnages -->
        <button id="show-character-form-button">👤</button>

        <!-- Formulaire personnages (masqué par défaut) -->
        <div class="character-form-container hidden">
            <form id="character-form">
                <input type="text" id="char-name" placeholder="Nom & prénom" required>
                <input type="text" id="char-role" placeholder="Rôle">
                <input type="text" id="char-link-main" placeholder="Lien avec le personnage principal">
                <input type="text" id="char-link-other" placeholder="Lien avec un autre personnage">
                <textarea id="char-quotes" placeholder="Citations sur le personnage"></textarea>
                <button type="submit">Ajouter le personnage</button>
            </form>
        </div>

        <!-- Liste des personnages -->
        <div id="characters-list"></div>
    </div>

    <!-- Colonne droite : Citations -->
    <div>
        <button id="back-button">← Retour à la bibliothèque</button>
        <h2 id="quote-page-title"></h2>
        <button id="show-form-button">+</button>

        <!-- Formulaire citations -->
        <div class="quote-form-container hidden">
            <form id="quote-form">
                <textarea id="quote-text" placeholder="« La citation... »" required></textarea>
                <div class="form-inputs">
                    <input type="text" id="quote-chapter" placeholder="Chapitre">
                    <input type="text" id="quote-page-number" placeholder="Page">
                </div>
                <textarea id="quote-comment" placeholder="Mon commentaire personnel..."></textarea>
                <button type="submit">Enregistrer la citation</button>
            </form>
        </div>

        <!-- Liste citations -->
        <div id="quotes-list"></div>
    </div>

</div>

<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
<script src="script.js"></script>

</body>
</html>
